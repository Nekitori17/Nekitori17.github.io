<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Nekitori17" />
    <meta name="description" content="Nekitori17's Official Website" />
    <meta
      name="keywords"
      content="Neki, Nekitori17, Neko, Hikari, Hakari, Nekitori Hakari"
    />
    <title>Nekitori17</title>
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/globalVariable.css" />
    <link id="color-palette" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="preload" href="/favicon.ico" as="image" />

    <style>
      html {
        background: #050505;
      }
      body > main {
        visibility: hidden;
      }
      body > main.palette-ready {
        visibility: visible;
      }
    </style>
  </head>
  <body>
    <div id="boot-loading">
      <div class="track">
        <div class="lane"></div>
        <div class="lane"></div>
        <div class="lane"></div>
        <div class="lane"></div>
        <div class="hit-line"></div>
      </div>
      <div class="perfect">LOADING...</div>

      <style>
        #boot-loading {
          position: fixed;
          inset: 0;
          background: #050505;
          z-index: 9999;
          display: grid;
          place-items: center;
          pointer-events: none;
        }

        .track {
          position: relative;
          width: 160px;
          height: 200px;
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          background: rgba(255, 255, 255, 0.04);
          overflow: hidden;
        }

        .lane {
          position: relative;
          border-left: 1px solid rgba(255, 255, 255, 0.08);
        }
        .lane:first-child {
          border-left: none;
        }

        .hit-line {
          position: absolute;
          left: 0;
          right: 0;
          bottom: 20px;
          height: 2px;
          background: rgba(255, 255, 255, 0.45);
        }

        .note {
          position: absolute;
          top: -18px;
          height: 14px;
          animation: fall 1.1s linear forwards;
        }

        .note.c1 {
          background: linear-gradient(90deg, #ffb703, #4cc9f0);
        }
        .note.c2 {
          background: linear-gradient(90deg, #ff7a7a, #5eead4);
        }
        .note.c3 {
          background: linear-gradient(90deg, #ff9f1c, #60a5fa);
        }
        .note.c4 {
          background: linear-gradient(90deg, #f72585, #22d3ee);
        }

        @keyframes fall {
          to {
            top: 120%;
          }
        }

        .perfect {
          position: absolute;
          bottom: 120px;
          font-family: monospace;
          font-size: larger;
          letter-spacing: 0.35em;
          color: #fffb00;
          text-shadow: 0 0 10px #fffb00;
          opacity: 0;
        }
        .perfect.show {
          animation: pop 0.3s ease-out forwards;
        }
        @keyframes pop {
          to {
            opacity: 1;
          }
        }

        .lane.flash::after {
          content: "";
          position: absolute;
          inset: auto 0 0 0;
          height: 70%;
          background: linear-gradient(
            to top,
            rgba(120, 200, 255, 0.45),
            rgba(255, 180, 120, 0.25),
            transparent
          );
          animation: flash 0.25s ease-out forwards;
        }
        @keyframes flash {
          to {
            opacity: 0;
          }
        }
      </style>

      <script>
        (() => {
          const lanes = [...document.querySelectorAll(".lane")];
          const track = document.querySelector(".track");
          const perfect = document.querySelector(".perfect");
          const laneWidth = track.clientWidth / 4;

          function spawnNote() {
            const key = Math.floor(Math.random() * 4);
            const lane = lanes[key];

            const note = document.createElement("div");
            note.className = `note c${key + 1}`;
            note.style.left = `${key * laneWidth + 2}px`;
            note.style.width = `${laneWidth - 4}px`;

            track.appendChild(note);

            setTimeout(() => {
              lane.classList.add("flash");
              perfect.classList.remove("show");
              void perfect.offsetWidth;
              perfect.classList.add("show");
              setTimeout(() => lane.classList.remove("flash"), 200);
            }, 850);

            note.addEventListener("animationend", () => note.remove());
          }

          setInterval(spawnNote, 260);
        })();
      </script>
    </div>

    <main class="app">
      <header class="header">
        <div class="title">
          <img src="/favicon.ico" alt="Nekitori17 logo" />
          <h1>Nekitori17</h1>
        </div>
        <nav class="navigation">
          <a id="home">.home(<i class="fa-solid fa-house-chimney"></i>)</a>
          <a id="works">.works(<i class="fa-solid fa-briefcase"></i>)</a>
          <a id="projects"
            >.projects(<i class="fa-solid fa-diagram-project"></i>)</a
          >
          <a id="about">.about(<i class="fa-solid fa-circle-info"></i>)</a>
        </nav>
      </header>
      <div class="container"></div>
      <script type="module" src="/bootstrap.js"></script>
    </main>
  </body>
</html>
